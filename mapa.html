<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Mapa del Purgatorio — Purgatory</title>
    <meta name="description" content="Mapa interactivo del universo de Purgatory. Explora los reinos, regiones y ubicaciones del lore." />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self' https://va.vercel-scripts.com; frame-ancestors 'none'; base-uri 'self'; form-action 'self';" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Cinzel:wght@600;700&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="static/css/pages.css">
  </head>
  <body>
    <div id="progress-bar" aria-hidden="true"></div>
    <canvas id="particles" aria-hidden="true"></canvas>
    <div id="cursor" aria-hidden="true"></div>

    <header class="site-header" id="site-header">
      <nav class="nav container">
        <a class="brand" href="index.html">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' x2='1'%3E%3Cstop offset='0' stop-color='%237c5cff'/%3E%3Cstop offset='1' stop-color='%2300e0ff'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='120' height='120' rx='28' fill='%23060712'/%3E%3Cpath d='M30 80 L60 30 L90 80 Z' fill='url(%23g)' opacity='0.95'/%3E%3Ccircle cx='60' cy='48' r='6' fill='%23021027'/%3E%3C/svg%3E" alt="Logo" class="logo" />
          <span class="brand-name">Purgatory</span>
        </a>
        <button class="nav-toggle" id="nav-toggle" aria-label="Abrir menú">&#9776;</button>
        <ul class="nav-links" id="nav-links">
          <li><a href="index.html">Inicio</a></li>
          <li><a href="lore.html">Lore</a></li>
          <li><a href="personajes.html">Personajes</a></li>
          <li><a href="mapa.html">Mapa</a></li>
          <li><a href="eventos.html">Eventos</a></li>
          <li><a class="cta" href="https://discord.gg/aTFMEVzcew" target="_blank" rel="noopener noreferrer">Entrar al server</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="page-hero">
        <div class="container">
          <a href="index.html" class="back-link">Volver al inicio</a>
          <h1>Mapa del Purgatorio</h1>
          <p class="lead">Un mapa de los reinos y regiones del universo de Purgatory. Haz clic en cada nodo para explorar su lore.</p>
        </div>
      </section>

      <section class="section container">
        <div class="map-wrapper" id="map-wrapper">
          <svg class="map-svg" viewBox="0 0 900 560" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <radialGradient id="glow-purple" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#7c5cff" stop-opacity="0.6"/>
                <stop offset="100%" stop-color="#7c5cff" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="glow-gold" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#ffb627" stop-opacity="0.6"/>
                <stop offset="100%" stop-color="#ffb627" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="glow-red" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#ff3b3b" stop-opacity="0.6"/>
                <stop offset="100%" stop-color="#ff3b3b" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="glow-cyan" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#00e0ff" stop-opacity="0.6"/>
                <stop offset="100%" stop-color="#00e0ff" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="glow-dim" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#888" stop-opacity="0.4"/>
                <stop offset="100%" stop-color="#888" stop-opacity="0"/>
              </radialGradient>
              <filter id="star-glow">
                <feGaussianBlur stdDeviation="1.5" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- Estrellas de fondo -->
            <g opacity="0.3">
              <circle cx="50" cy="30" r="1" fill="#fff"/>
              <circle cx="150" cy="80" r="0.7" fill="#fff"/>
              <circle cx="280" cy="45" r="1.2" fill="#fff"/>
              <circle cx="400" cy="20" r="0.8" fill="#fff"/>
              <circle cx="520" cy="65" r="1" fill="#fff"/>
              <circle cx="680" cy="35" r="0.6" fill="#fff"/>
              <circle cx="800" cy="55" r="1.1" fill="#fff"/>
              <circle cx="100" cy="200" r="0.9" fill="#fff"/>
              <circle cx="750" cy="180" r="0.7" fill="#fff"/>
              <circle cx="350" cy="150" r="1" fill="#fff"/>
              <circle cx="600" cy="250" r="0.8" fill="#fff"/>
              <circle cx="180" cy="400" r="1" fill="#fff"/>
              <circle cx="720" cy="420" r="0.6" fill="#fff"/>
              <circle cx="550" cy="500" r="0.9" fill="#fff"/>
              <circle cx="100" cy="500" r="0.7" fill="#fff"/>
              <circle cx="830" cy="350" r="1.2" fill="#fff"/>
              <circle cx="60" cy="320" r="0.5" fill="#fff"/>
              <circle cx="480" cy="380" r="0.8" fill="#fff"/>
            </g>

            <!-- Líneas de conexión -->
            <g class="map-connections">
              <line class="map-line" x1="450" y1="80" x2="450" y2="200"/>
              <line class="map-line" x1="450" y1="80" x2="200" y2="160"/>
              <line class="map-line" x1="450" y1="200" x2="200" y2="160"/>
              <line class="map-line" x1="200" y1="160" x2="150" y2="310"/>
              <line class="map-line" x1="450" y1="200" x2="450" y2="310"/>
              <line class="map-line" x1="450" y1="200" x2="700" y2="200"/>
              <line class="map-line" x1="450" y1="310" x2="300" y2="350"/>
              <line class="map-line" x1="450" y1="310" x2="600" y2="350"/>
              <line class="map-line" x1="150" y1="310" x2="300" y2="350"/>
              <line class="map-line" x1="450" y1="310" x2="450" y2="470"/>
            </g>

            <!-- Nodos del mapa -->
            <!-- Olympo -->
            <g class="map-node" data-region="olympo">
              <circle cx="450" cy="80" r="30" fill="url(#glow-gold)" opacity="0.4"/>
              <circle class="map-node-circle" cx="450" cy="80" r="12" fill="#ffb627" fill-opacity="0.5" stroke="#ffb627" stroke-width="1.5" stroke-opacity="0.7" filter="url(#star-glow)"/>
              <text class="map-node-label" x="450" y="115">OLYMPO</text>
            </g>

            <!-- Edén -->
            <g class="map-node" data-region="eden">
              <circle cx="200" cy="160" r="25" fill="url(#glow-purple)" opacity="0.3"/>
              <circle class="map-node-circle" cx="200" cy="160" r="9" fill="#7c5cff" fill-opacity="0.5" stroke="#7c5cff" stroke-width="1.5" stroke-opacity="0.6" filter="url(#star-glow)"/>
              <text class="map-node-label" x="200" y="190">EDÉN</text>
            </g>

            <!-- Portal (centro superior) -->
            <g class="map-node" data-region="portal">
              <circle cx="700" cy="200" r="22" fill="url(#glow-dim)" opacity="0.3"/>
              <circle class="map-node-circle" cx="700" cy="200" r="8" fill="#888" fill-opacity="0.4" stroke="#666" stroke-width="1.5" stroke-opacity="0.5" filter="url(#star-glow)"/>
              <text class="map-node-label" x="700" y="230">EL VOID</text>
            </g>

            <!-- Purgatorio (centro) -->
            <g class="map-node" data-region="purgatorio">
              <circle cx="450" cy="310" r="40" fill="url(#glow-cyan)" opacity="0.35"/>
              <circle cx="450" cy="310" r="22" fill="transparent" stroke="#00e0ff" stroke-width="1" stroke-opacity="0.2" stroke-dasharray="4 3"/>
              <circle class="map-node-circle" cx="450" cy="310" r="14" fill="#00e0ff" fill-opacity="0.5" stroke="#00e0ff" stroke-width="2" stroke-opacity="0.8" filter="url(#star-glow)"/>
              <text class="map-node-label" x="450" y="348" style="font-size:13px;fill:rgba(0,224,255,.9)">PURG4TORY</text>
            </g>

            <!-- El Bache / Transición -->
            <g class="map-node" data-region="bache">
              <circle cx="450" cy="200" r="20" fill="url(#glow-dim)" opacity="0.25"/>
              <circle class="map-node-circle" cx="450" cy="200" r="7" fill="#666" fill-opacity="0.4" stroke="#555" stroke-width="1.5" stroke-opacity="0.5" filter="url(#star-glow)"/>
              <text class="map-node-label" x="450" y="228">EL BACHE</text>
            </g>

            <!-- Las Fosas -->
            <g class="map-node" data-region="fosas">
              <circle cx="150" cy="310" r="28" fill="url(#glow-red)" opacity="0.35"/>
              <circle class="map-node-circle" cx="150" cy="310" r="11" fill="#ff3b3b" fill-opacity="0.5" stroke="#ff3b3b" stroke-width="1.5" stroke-opacity="0.7" filter="url(#star-glow)"/>
              <text class="map-node-label" x="150" y="342">LAS FOSAS</text>
            </g>

            <!-- Plaza del Salseo -->
            <g class="map-node" data-region="salseo">
              <circle cx="300" cy="350" r="20" fill="url(#glow-purple)" opacity="0.3"/>
              <circle class="map-node-circle" cx="300" cy="350" r="8" fill="#7c5cff" fill-opacity="0.4" stroke="#a78bfa" stroke-width="1.5" stroke-opacity="0.6" filter="url(#star-glow)"/>
              <text class="map-node-label" x="300" y="378">PLAZA DEL SALSEO</text>
            </g>

            <!-- Sala del Trono -->
            <g class="map-node" data-region="trono">
              <circle cx="600" cy="350" r="20" fill="url(#glow-cyan)" opacity="0.3"/>
              <circle class="map-node-circle" cx="600" cy="350" r="8" fill="#00e0ff" fill-opacity="0.4" stroke="#00e0ff" stroke-width="1.5" stroke-opacity="0.6" filter="url(#star-glow)"/>
              <text class="map-node-label" x="600" y="378">SALA DEL TRONO</text>
            </g>

            <!-- Infierno -->
            <g class="map-node" data-region="infierno">
              <circle cx="450" cy="470" r="35" fill="url(#glow-red)" opacity="0.4"/>
              <circle cx="450" cy="470" r="20" fill="transparent" stroke="#ff3b3b" stroke-width="1" stroke-opacity="0.15" stroke-dasharray="3 4"/>
              <circle class="map-node-circle" cx="450" cy="470" r="13" fill="#ff3b3b" fill-opacity="0.5" stroke="#ff6b1a" stroke-width="1.5" stroke-opacity="0.7" filter="url(#star-glow)"/>
              <text class="map-node-label" x="450" y="505" style="fill:rgba(255,100,60,.8)">INFIERNO</text>
            </g>
          </svg>

          <!-- Tooltip -->
          <div class="map-tooltip" id="map-tooltip">
            <h4 id="tooltip-title"></h4>
            <p id="tooltip-desc"></p>
            <span class="map-tooltip-tag" id="tooltip-tag"></span>
          </div>
        </div>

        <!-- Leyenda -->
        <div class="map-legend">
          <div class="map-legend-item">
            <span class="map-legend-dot" style="background:#ffb627"></span> Era Dorada
          </div>
          <div class="map-legend-item">
            <span class="map-legend-dot" style="background:#ff3b3b"></span> Caos / Castigo
          </div>
          <div class="map-legend-item">
            <span class="map-legend-dot" style="background:#00e0ff"></span> Era Actual
          </div>
          <div class="map-legend-item">
            <span class="map-legend-dot" style="background:#7c5cff"></span> Lugares Clave
          </div>
          <div class="map-legend-item">
            <span class="map-legend-dot" style="background:#666"></span> Transición / Void
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div>
          <p class="muted">Purgatory — Donde las historias no mueren, solo arden.</p>
        </div>
        <div class="links">
          <a href="https://discord.gg/aTFMEVzcew" target="_blank" rel="noopener noreferrer">Discord</a>
          <a href="lore.html">Lore</a>
          <a href="index.html#infierno">Infierno</a>
        </div>
      </div>
    </footer>

    <script src="static/js/scripts.js" defer></script>
    <script src="static/js/easter-eggs.js" defer></script>
    <script src="static/data/mapa-data.js" defer></script>
  </body>
</html>
